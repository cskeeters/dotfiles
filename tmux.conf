set -g base-index 1
#set -g default-terminal "screen-256color"
# set -g default-terminal "xterm-256color:Tc"
# set -g default-terminal "xterm"
# set -ga terminal-overrides ",xterm-256color:Tc"
set -ga terminal-overrides ",$TERM:Tc"
# set -ga terminal-overrides ",$TERM:RGB"
#set -as terminal-features ",xterm-256color:RGB"
set -g monitor-activity on
set -g visual-activity on
# Set low for vim/nvim
set -g escape-time 10
#set-option -g default-shell /bin/zsh
#set-option -g default-shell $SHELL


set -g prefix C-Space

# This enables control of the inner tmux if there is a nested instance
unbind C-b # unbind the existing prefix
bind-key C-Space send-prefix # bind the new prefix key

unbind -
bind-key s split-window -v # s - overrides select session
bind-key v split-window -h
bind-key r source-file ~/.tmux.conf
bind-key R move-window -r
bind-key P capture-pane\; save-buffer '/tmp/tmux-scrape' \; delete-buffer
bind-key S command-prompt -p ssh: "new-window -n %1 'ssh %1'"

# switch panes using Alt-arrow without prefix
bind-key -n C-S-Down select-pane -D
bind-key -n C-S-Up select-pane -U
bind-key -n C-S-Left select-pane -L
bind-key -n C-S-Right select-pane -R

# switch panes using vim keys with prefix
bind-key j select-pane -D
bind-key k select-pane -U
bind-key h select-pane -L
bind-key l select-pane -R

# switch windows using without prefix
bind-key -n M-h previous-window
bind-key -n M-l next-window

# Scroll up
bind -n M-Pageup copy-mode -u

# Enable mouse control (clickable windows, panes, resizable panes)
# set -g mouse-select-window on
# set -g mouse-select-pane on
# set -g mouse-resize-pane on

# Enable mouse mode (tmux 2.1 and above)
set -g mouse on

# Enable OSC 52 style copy (Terminal support required)
set -s set-clipboard on


# Rename windows by default unless script turns it off
#set-option -g allow-rename off
#set-option -g automatic-rename off


# Use vim keybindings in copy mode
setw -g mode-keys vi

# Setup 'v' to begin selection as in Vim
# bind-key -t vi-copy v begin-selection
# bind-key -t vi-copy y copy-pipe "reattach-to-user-namespace pbcopy"

# Update default binding of `Enter` to also use copy-pipe
# unbind -t vi-copy Enter
# bind-key -t vi-copy Enter copy-pipe "reattach-to-user-namespace pbcopy"

# Bind ']' to use pbpaste
# bind ] run "reattach-to-user-namespace pbpaste | tmux load-buffer - && tmux paste-buffer"

bind - resize-pane -D 10
bind + resize-pane -U 10
bind < resize-pane -L 10
bind > resize-pane -R 10



# Style
# bg="#3B4252"
bg="default"
default_fg="#D8DEE9"
session_fg="#A3BE8C"
session_selection_fg="#3B4252"
session_selection_bg="#81A1C1"
active_window_fg="#88C0D0"
active_pane_border="#abb2bf"

set -g status-position top

set -g status-left-length 200   # default: 10
set -g status-right-length 200  # default: 10
set -g status-left "#[fg=${session_fg},bold,bg=${bg}]ï’‰ #S #[fg=${default_fg},nobold,bg=${bg}] | "
set -g status-right ""
set -g status-justify left
set -g status-style "bg=${bg}"
set -g window-status-format "#[fg=${default_fg},bg=default] #I:#W"
set -g window-status-current-format "#[fg=${active_window_fg},bold,bg=default] #[underscore]#I:#W"
set -g window-status-last-style "fg=${default_fg},bg=default"
set -g message-command-style "bg=default,fg=${default_fg}"
set -g message-style "bg=default,fg=${default_fg}"
set -g mode-style "bg=${session_selection_bg},fg=${session_selection_fg}"
set -g pane-active-border-style "fg=${active_pane_border},bg=default"
set -g pane-border-style "fg=brightblack,bg=default"
